<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gana o Pierde</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
      href="https://fonts.googleapis.com/css2?family=BBH+Bartle&family=Google+Sans:ital,opsz,wght@0,17..18,400..700;1,17..18,400..700&display=swap"
      rel="stylesheet">
    <style>
      body {
        margin: 0;
        text-align: center;
        font-family: 'Google Sans, cursive;
      }
      h1, h2 {
        margin: 0;
        font-family: 'BBH Bartle', cursive;
      }
      button {
        margin: 20px;
        padding: 10px 20px;
        font-size: 16px;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <main style="width: 100vw; height: 100vh; background: #0F0F0F; display: flex; align-items: center; justify-content: center; color: white; flex-direction: column;" >
      <div id="btn_modes" >
        <button>modo hot</button>
        <button>modo normal (se necesita premium)</button>
      </div>
      <dialog id="info_target"  >
        <div
        
        style=""></div>
        <!-- <img src="https://i.pinimg.com/originals/8b/7d/f2/8b7df2651c9213875c4d426c9a78f5a7.jpg" alt="imagen tarjeta de crÃ©dito"> -->
        <!-- <h2>tarjeta de crÃ©dito</h2>
        <p>Ingrese los 4 dÃ­gitos detrÃ¡s de su tarjeta</p> -->
      </dialog>
      <div>
        <h1>Reto o shots</h1>
        <p>Si no haces el reto, besos al ingeniero ðŸ’•ðŸ’•</p>
      </div>

      <button id="btn_get_challeng" style="background: yellow; color: black; border-radius: 10px; font-weight: bold;" >obtener reto</button>

      <div>
        <h2>Reto <span id="challenge_name" ></span> </h2>
        <p id="description" ></p>
      </div>
    </main>
    <script type="module">
      const btnGetChallenge = document.getElementById("btn_get_challeng");
      const url = new URL(window.location.href);
      btnGetChallenge.addEventListener("click", async () => {
        try {
          const response = await fetch(`https://verbose-couscous-xg46r99qjq6c9pjp-8000.app.github.dev/challenge/get_aleatory_challenge`);
          if (!response.ok) {
            throw new Error("Network response was not ok");
          }
          const data = await response.json();
          const {challenge} = data
          console.log("Reto obtenido:", challenge);
          document.getElementById("challenge_name").textContent = challenge.name;
          document.getElementById("description").textContent = challenge.description;
        } catch (error) {
          console.error("Error fetching challenge:", error);
          alert("Hubo un error al obtener el reto.");
        }
      });

      const btnModes = document.getElementById("btn_modes");
      btnModes.addEventListener("click", (event) => {
        const infoTarget = document.getElementById("info_target");
        if (event.target.tagName === "BUTTON" && event.target.textContent.includes("normal")) {
          infoTarget.showModal();
        }
      });

    </script>
  </body>
</html>
